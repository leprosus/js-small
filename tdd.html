<!DOCTYPE html>
<html>
<head>
    <title></title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <script type="text/javascript">
        "use strict";
    </script>
    <script type="text/javascript" src="js-small/js-small.js"></script>
    <script type="text/javascript" src="js-small/plugins/init.js"></script>
    <style type="text/css">
        body {
            font: normal 300 12px Tahoma;
            color: gray;
        }

        body > div {
            display: block;
            overflow: hidden;
            width: 280px;
        }

        body > div > span {
            display: block;
            float: right;
            width: 50px;
            color: darkred;
            font-weight: 800;
        }

        body > div > span.success {
            color: darkgreen;
        }
    </style>
</head>
<body>
<div id="ready">Ready on page load event: <span>ERR</span></div>
<div id="ext-fun">Extending js-small function: <span>ERR</span></div>
<div id="ext-met">Extending js-small method: <span>ERR</span></div>
<div id="each"><b>Each</b> method for DOM nodes: <span>ERR</span></div>
<div id="grep"><b>Grep</b> method for DOM nodes: <span>ERR</span></div>
<div id="concat"><b>Concat</b> method for DOM node: <span>ERR</span></div>
<div id="text"><b>Text</b> method for DOM node: <span>ERR</span></div>
<div id="html"><b>Html</b> method for DOM node: <span>ERR</span></div>
<div id="empty"><b>Empty</b> method for DOM node: <span>ERR</span></div>
<div id="node"><b>Node</b> method for DOM nodes: <span>ERR</span></div>
<div id="tag"><b>TagName</b> method for DOM node: <span>ERR</span></div>
<div id="do-focus"><b>DoFocus</b> method for DOM node: <span>ERR</span></div>
<div id="evt-focus"><b>Focus Event</b> method for DOM node: <span>ERR</span></div>
<div id="do-blur"><b>DoBlur</b> method for DOM node: <span>ERR</span></div>
<div id="evt-blur"><b>Blur Event</b> method for DOM node: <span>ERR</span></div>
<div id="do-submit"><b>DoSubmit</b> method for DOM node: <span>ERR</span></div>
<div id="evt-submit"><b>Submit Event</b> method for DOM node: <span>ERR</span></div>
<script type="text/javascript">
    small.plugins();

    small.ready(function() {
        small.extendMethods({
            "setOK": function() {
                small('#ext-met').find('span').addClass('success').text('OK');
                small(this).find('span').addClass('success').text('OK');
            },
            "setERR": function() {
                small('#ext-met').find('span').addClass('success').text('OK');
                small(this).find('span').removeClass('success').text('ERR');
            }
        });

        small.extendFunctions({
            'resetTDD': function() {
                small('body').find('div').setERR();

                small('#ext-fun').setOK();
            }
        });

        small.resetTDD();

        small('#ready').setOK();

        small('div').each(function(object) {
            object.id == 'each' ? small(object).setOK() : null;
        });

        small('div').grep(function(object) {
            return object.id == 'grep';
        }).setOK();

        small('#concat').find('span').concat('test');
        if(small('#concat').find('span').text() == 'ERRtest') {
            small('#concat').setOK();
        }

        small('#text').find('span').text('test');
        if(small('#text').find('span').text() == 'test') {
            small('#text').setOK();
        }

        small('#html').find('span').html('<b>test</b>');
        if(small('#html').find('span').html() == '<b>test</b>') {
            small('#html').setOK();
        }

        small('#empty').find('span').empty();
        small('#empty').find('span').empty(function() {
            small('#empty').setOK();
        }, function() {
            small('#empty').setERR();
        });

        if(small('body').find('div').node(3).id == 'each') {
            small('#node').setOK();
        }

        if(small('body').tagName() == 'body') {
            small('#tag').setOK();
        }

        small('body').append('input[type=text][id=text]')
                .focus(function() {
                    small('#do-focus').setOK();
                    small('#evt-focus').setOK();
                })
                .doFocus();

        small('input#text')
                .blur(function() {
                    small('#do-blur').setOK();
                    small('#evt-blur').setOK();
                }).doBlur();

        small('input#text').remove();

        var form = small('body')
                .append('form')
                .attr({
                    'action': '',
                    'method': 'post'
                }).submit(function() {
                    small('#do-submit').setOK();
                    small('#evt-submit').setOK();

                    return false;
                }).doSubmit();
    });
</script>
</body>
</html>